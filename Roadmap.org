#+SEQ_TODO: TODO WAITING IN-PROGRESS | DONE CANCELLED

* DONE Eliminate possibility to encounter both game finishing states game over and level complete together
* DONE Implement so that score text is always centered in the middle of the background cloud.
* DONE Combine game over behaviour for level complete and game over in a single function
* DONE Points must not be higher when the game is lost, than when finish is reached
:LOGBOOK:
- Note taken on [2018-12-05 T  16:56] \\
  Points just don't appear and their level_score_value is set to 0
:END:
* DONE Allow switching to fullscreen
* DONE Fix arrays, so that they can be accessed from the item zero, without weird values at the beginning.
* DONE Menu screen rope z indexing.
* DONE Obstacles
** DONE Blinking background
** CANCELLED Set offsets in an array
:LOGBOOK:
- Note taken on [2018-12-07 Pk 18:37] \\
  Better approach is to use Godot's scene approach.
:END:
* DONE Rope needs a ballast bag at the end.
* DONE Main Character Animations [1/1]
** DONE Collisions with obstacles.
* DONE Add progress meter
* DONE Implement Options screen. [4/4]
** DONE Options screen design
** DONE Button with Options text
** DONE Button with Fullscreen text
** DONE Button with Windowed text
* DONE Forbid clicking on items, while the bar is dragged
* DONE Selection bar items should become larger when mouse is hovering over them.
* DONE Item bar should scroll to the beginning on restart.
* DONE Make the rest of the obstacle item scenes
* DONE We need an indication, so that player knows the item bar is draggable. [2/2]
** DONE Probably the best option is to just have blinking arrow.
** DONE Implement ScrollIndicator placed in UI folder
* DONE Fix collar, so that it doesn't turn red on ascend.
* DONE Implement progress bar progress texture.
* DONE Crying face animation should turn to death animation.
* DONE Balloon's up force must be decreased constantly while the collision is active.
** It must be decreased not reset.
* DONE Implement bottom indication, where player cannot fall further down.
* DONE Obstacles need indication that they are being touched by the player.
* DONE Item weights and values
:LOGBOOK:
- Note taken on [2018-12-10 P  21:53] \\
  Just value
:END:
* DONE Implement main character drop behaviour.
* DONE Add victory animation.
* DONE Add next level button.
* DONE Implement finding item face animation.
* DONE Sound effects
** All the relevant sound effects provided by Nezvers
* DONE Clean all the global scope caches by nulling them at ready()
* TODO Implement so that next level button is loading in also the first level.
* TODO Add transition from gameplay music to level stop music.
* TODO Fix so that progress balloon is over finish line.
* TODO Implement transitions between scenes.
** Fade in and fade out.
*** Both graphics and music.
* TODO Get rid of the bottom warning line and introduce that item selection bars starts to red blink if balloon is too low.
* IN-PROGRESS Implement pause button. [3/5]
** DONE Quiet music
** DONE Restart button
** DONE Menu button
** TODO Dropped items must add to time, while pause is active, so that they don't dissapear on unpaused.
** TODO Change state(text) to unpause
* IN-PROGRESS Implement multiple levels. [3/5]
** INSTRUCTION FOR IMPLEMENTING NEW LEVELS.
*** Right now there are 10 levels pre-made.
**** I think 10 for now is enough, but more can be added at hearts desire.
***** Adding completely new levels requires a bit more work.
****** New Level scene must be created under Environment
****** New ObstacleWrapper must be created under Obstacles
****** New elements must be added to the arrays of various nodes (REMEMBER THAT ELEMENTS MUST BE ADDED TO ARRAYS AT THE DEEPEST LEVEL (TO THE ORIGINAL SCENE, NOT INSTANCE) SCENE/NODE.)
******* They must be assigned to the "Level Scenes" array, which is exported for the NextLevelButton node.
******** World->GUILayer->GameOverWrapper->NextLevelButton
******* Also World->CharacterLayer->MainCharacter array "Up Items" requires new item added for each level with the level basket items, which are intended to be sacrificed.
******* Also World->GUILayer->ItemSelectionBar array "Level Selection Bars" requires new item add for each level.
******** For these elements don't assign anything, just make the same structure as for existing elements.
********* Elements of this array will be filled automatically during run-time.
**** To modify 10 existing level assets.
***** Just go to 
****** Obstacles folder to modify ObstacleWrappers
****** Environment folder to modify Levels
****** Both Obstacle and Level scenes are named appropriately.
***** For level items modify World->CharacterLayer->MainCharacter (REMEMBER TO MODIFY THE ORIGINAL SCENE ARRAY, NOT INSTANCE) "Up Items" array elements of each level.
****** Remember that if array elements are references to Objects held in heap then to add a new unique item it is required to at first Choose new appropriate type object and only then drag in or load the asset.
***** To make level longer or shorter, just go to World->Level->FinishLine->ParallaxLayer mark all the FinishLine sprites and Shift arrow key move them back or forth.
****** Of course if level is longer then more content should be added to other parallax layers too.
** DONE Implement level switching with next button.
** DONE Implement switching between levels. [2/2]
*** DONE Next level button.
*** DONE Implement specific set of items for each level.
** DONE Implement so that score is persistent between levels.
** TODO Next level button changing text to victory.
** TODO Implement so that if score is not sufficient (levels must have entry price) at level complete the game is over and it is not possible to go to next level. [0/3]
*** TODO If there isn't enough total points to enter the next level then player can restart level or go to menu, just like when he has fallen.
*** TODO Implement so that total score/required score for the next level is displayed constantly in the corner and it updates in realtime showing if it is possible to get to next level.
*** TODO Implement so that it is possible to reset level at which the not sufficient score was reached with the score that was at the level start.
* IN-PROGRESS Implement music looping and starting correctly.
** TODO Music must start later, to nicely loop.
*** Consult with Nezvers about exact beginning of the track.
*** Also maybe he can create story track too!
* IN-PROGRESS Game complete screen. [1/2]
** DONE Implementation from next level button.
** TODO Design the look - Kristaps
* TODO Implement story music.
